# Gitブランチ完全ガイド

## 🔰 ブランチ（branch）とは？

Gitにおける「ブランチ」とは、**作業履歴の分岐（枝）**のことです。  
本線（例：main）とは別に、**安全に実験や修正を行える作業スペース**を作るために使います。

## 🧠 ブランチの目的

- 本番の履歴（main）を壊さずに機能追加やバグ修正ができる
- 複数人で並行作業がしやすくなる
- 必要なタイミングで本線に統合（マージ）できる

## 🌱 よくあるブランチの使い方

| ブランチ名 | 用途例 |
|------------|--------|
| `main` または `master` | 本番コード・安定した履歴 |
| `dev` | 開発中コード |
| `feature/login-ui` | 機能追加（ログインUI） |
| `bugfix/image-broken` | バグ修正用 |
| `hotfix/security-patch` | 緊急パッチ |

## 🛠 基本コマンド一覧

### 🔍 現在のブランチを確認
```bash
git branch
```

### 🌿 新しいブランチを作って移動
```bash
git checkout -b ブランチ名
# 例
git checkout -b feature/new-design
```

### 🌱 既存ブランチに移動
```bash
git checkout ブランチ名
```

## 📦 ブランチでの作業の流れ

1. mainから新しいブランチ作成
   ```bash
   git checkout -b feature/xxx
   ```
2. ファイルを編集・保存
3. Gitに変更を追加してコミット
   ```bash
   git add .
   git commit -m "〇〇を追加"
   ```
4. GitHubにも反映
   ```bash
   git push -u origin feature/xxx
   ```

## 🔀 マージ（merge）とは？

ブランチでの作業が終わったら、本線に合体させる操作が「マージ（merge）」です。

1. mainブランチに移動
   ```bash
   git checkout main
   ```
2. 作業ブランチをマージ
   ```bash
   git merge feature/xxx
   ```

## 💥 コンフリクト（競合）とは？

同じ行を同時に別のブランチで変更していた場合、マージ時に「どっちを採用するか？」が決められずエラーになります。

例：
```
text
<<<<<<< HEAD
こっちのブランチの変更
=======
あっちのブランチの変更
>>>>>>> feature/xxx
```

### 解決手順

1. エディタで上記のような部分を手動で修正
2. `git add ファイル名`
3. `git commit`（必要なら）

## ☁️ GitHubと連携したブランチ運用

1. 作業ブランチをGitHubへ push
2. GitHub上で Pull Request（PR）作成
3. レビュー → マージ（GUIでボタン操作）

## ✅ ブランチ運用ルールの一例（チームで使う場合）

| ルール | 内容 |
|--------|------|
| main 直push禁止 | 本番はPR経由で安全に管理 |
| feature/〇〇 | 新機能ごとにブランチを作成 |
| PR単位でタスク管理 | PR1つ = 1タスクが原則 |
| コミットは小さく・意味のある単位で | 後で見返しやすくなる |

## 🧼 不要になったブランチの削除

### ローカルのブランチ削除
```bash
git branch -d ブランチ名
```

### GitHub上のブランチ削除
```bash
git push origin --delete ブランチ名
```

## 🧠 よくある疑問

| 質問 | 答え |
|------|------|
| ブランチを何本も作っていいの？ | ✅ OK！ただし目的を明確に |
| ブランチごとにフォルダが分かれる？ | ❌ 分かれません。見た目は同じフォルダで履歴が違うだけ |
| 間違えてmainに直接編集したら？ | git stash or git resetで回避できる場合もあり |

## 🎯 まとめ

- ブランチは「履歴の分岐」
- 複数の作業を安全に並行できる
- マージで本線に統合
- コンフリクトは手動で解決
- GitHubとのPull Request運用でより安全＆チーム開発に最適！